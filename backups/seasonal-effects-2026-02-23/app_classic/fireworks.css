.firework-layer {
  position: fixed;
  inset: 0;
  z-index: 130;
  pointer-events: none;
  overflow: hidden;
}

.firework-layer__burst {
  position: absolute;
  left: 0;
  top: 0;
  width: 1px;
  height: 1px;
}

.firework-layer__single {
  --fw-size: 150px;
  --fw-rot: 0deg;
  --fw-rise: -8px;
  position: absolute;
  left: 50%;
  top: 50%;
  width: var(--fw-size);
  height: var(--fw-size);
  background: url("/assets/firework.svg") center / contain no-repeat;
  transform: translate(-50%, -50%) scale(0.2) rotate(var(--fw-rot));
  transform-origin: center;
  opacity: 0;
  filter: drop-shadow(0 6px 18px rgba(148, 59, 36, 0.24));
  will-change: transform, opacity;
  animation: firework-single 860ms cubic-bezier(0.2, 0.9, 0.25, 1) forwards;
}

@keyframes firework-single {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.2) rotate(var(--fw-rot));
  }

  20% {
    opacity: 0.98;
    transform: translate(-50%, -50%) scale(0.86) rotate(var(--fw-rot));
  }

  58% {
    opacity: 0.92;
    transform: translate(-50%, calc(-50% + var(--fw-rise))) scale(1)
      rotate(var(--fw-rot));
  }

  100% {
    opacity: 0;
    transform: translate(-50%, calc(-50% + var(--fw-rise))) scale(1.08)
      rotate(var(--fw-rot));
  }
}

@media (max-width: 768px) {
  .firework-layer__single {
    filter: drop-shadow(0 3px 10px rgba(148, 59, 36, 0.2));
  }
}

@media (prefers-reduced-motion: reduce), print {
  .firework-layer {
    display: none !important;
  }
}
